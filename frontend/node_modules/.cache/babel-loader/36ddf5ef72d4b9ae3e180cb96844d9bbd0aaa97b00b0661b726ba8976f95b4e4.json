{"ast":null,"code":"import React,{useEffect,useReducer,useState}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import axios from'axios';import{toast}from'react-toastify';import{getError}from'../utils';import{Helmet}from'react-helmet-async';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Rating from'../components/Rating';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import Button from'react-bootstrap/Button';import Product from'../components/Product';import LinkContainer from'react-router-bootstrap/LinkContainer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const reducer=(state,action)=>{switch(action.type){case'FETCH_REQUEST':return{...state,loading:true};case'FETCH_SUCCESS':return{...state,products:action.payload.products,page:action.payload.page,pages:action.payload.pages,countProducts:action.payload.countProducts,loading:false};case'FETCH_FAIL':return{...state,loading:false,error:action.payload};default:return state;}};const prices=[{name:'$1 to $50',value:'1-50'},{name:'$51 to $200',value:'51-200'},{name:'$201 to $1000',value:'201-1000'}];export const ratings=[{name:'4stars & up',rating:4},{name:'3stars & up',rating:3},{name:'2stars & up',rating:2},{name:'1stars & up',rating:1}];export default function SearchScreen(){//const requestUrl = \"https://www.skftechnologies.com:5000\";\nconst requestUrl=process.env.REACT_APP_API_URL;const navigate=useNavigate();const{search}=useLocation();const sp=new URLSearchParams(search);// /search?category=Shirts\nconst category=sp.get('category')||'all';const query=sp.get('query')||'all';const price=sp.get('price')||'all';const rating=sp.get('rating')||'all';const order=sp.get('order')||'newest';const page=sp.get('page')||1;const[{loading,error,products,pages,countProducts},dispatch]=useReducer(reducer,{loading:true,error:''});useEffect(()=>{const fetchData=async()=>{try{const{data}=await axios.get(requestUrl+`/api/products/search?page=${page}&query=${query}&category=${category}&price=${price}&rating=${rating}&order=${order}`);dispatch({type:'FETCH_SUCCESS',payload:data});}catch(err){dispatch({type:'FETCH_FAIL',payload:getError(error)});}};fetchData();},[category,error,order,page,price,query,rating]);const[categories,setCategories]=useState([]);useEffect(()=>{const fetchCategories=async()=>{try{const{data}=await axios.get(requestUrl+`/api/products/categories`);setCategories(data);}catch(err){toast.error(getError(err));}};fetchCategories();},[dispatch]);const getFilterUrl=filter=>{const params=new URLSearchParams();if(filter.category||category)params.set(\"category\",filter.category||category);if(filter.query||query)params.set(\"query\",filter.query||query);if(filter.price||price)params.set(\"price\",filter.price||price);if(filter.rating||rating)params.set(\"rating\",filter.rating||rating);if(filter.order||order)params.set(\"order\",filter.order||order);if(filter.page||page)params.set(\"page\",filter.page||page);return{pathname:\"/search\",search:`?${params.toString()}`};};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Search Products\"})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Department\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:'all'===category?'text-bold':'',to:getFilterUrl({category:'all'}),children:\"Any\"})}),categories.map(c=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:c===category?'text-bold':'',to:getFilterUrl({category:c}),children:c})},c))]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Price\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{className:'all'===price?'text-bold':'',to:getFilterUrl({price:'all'}),children:\"Any\"})}),prices.map(p=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:getFilterUrl({price:p.value}),className:p.value===price?'text-bold':'',children:p.name})},p.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Avg. Customer Review\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[ratings.map(r=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:getFilterUrl({rating:r.rating}),className:`${r.rating}`===`${rating}`?'text-bold':'',children:/*#__PURE__*/_jsx(Rating,{caption:' & up',rating:r.rating})})},r.name)),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:getFilterUrl({rating:'all'}),className:rating==='all'?'text-bold':'',children:/*#__PURE__*/_jsx(Rating,{caption:' & up',rating:0})})})]})]})]}),/*#__PURE__*/_jsx(Col,{md:9,children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Row,{className:\"justify-content-between mb-3\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(\"div\",{children:[countProducts===0?'No':countProducts,\" Results\",query!=='all'&&' : '+query,category!=='all'&&' : '+category,price!=='all'&&' : Price '+price,rating!=='all'&&' : Rating '+rating+' & up',query!=='all'||category!=='all'||rating!=='all'||price!=='all'?/*#__PURE__*/_jsx(Button,{variant:\"light\",onClick:()=>navigate('/search'),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times-circle\"})}):null]})}),/*#__PURE__*/_jsxs(Col,{className:\"text-end\",children:[\"Sort by\",' ',/*#__PURE__*/_jsxs(\"select\",{value:order,onChange:e=>{navigate(getFilterUrl({order:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"newest\",children:\"Newest Arrivals\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lowest\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"highest\",children:\"Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"toprated\",children:\"Avg. Customer Reviews\"})]})]})]}),products.length===0&&/*#__PURE__*/_jsx(MessageBox,{children:\"No Product Found\"}),/*#__PURE__*/_jsx(Row,{children:products.map(product=>/*#__PURE__*/_jsx(Col,{sm:6,lg:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Product,{product:product})},product._id))}),/*#__PURE__*/_jsx(\"div\",{children:[...Array(pages).keys()].map(x=>/*#__PURE__*/_jsx(LinkContainer,{className:\"mx-1\",to:getFilterUrl({page:x+1}),children:/*#__PURE__*/_jsx(Button,{className:Number(page)===x+1?'text-bold':'',variant:\"light\",children:x+1})},x+1))})]})})]})]});}","map":{"version":3,"names":["React","useEffect","useReducer","useState","Link","useNavigate","useLocation","axios","toast","getError","Helmet","Row","Col","Rating","LoadingBox","MessageBox","Button","Product","LinkContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","reducer","state","action","type","loading","products","payload","page","pages","countProducts","error","prices","name","value","ratings","rating","SearchScreen","requestUrl","process","env","REACT_APP_API_URL","navigate","search","sp","URLSearchParams","category","get","query","price","order","dispatch","fetchData","data","err","categories","setCategories","fetchCategories","getFilterUrl","filter","params","set","pathname","toString","children","className","to","map","c","p","r","caption","md","variant","onClick","onChange","e","target","length","product","sm","lg","_id","Array","keys","x","Number"],"sources":["C:/Users/User/Amazona/frontend/src/screens/SearchScreen.js"],"sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { getError } from '../utils';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Rating from '../components/Rating';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Product from '../components/Product';\r\nimport LinkContainer from 'react-router-bootstrap/LinkContainer';\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return { ...state, loading: true };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        products: action.payload.products,\r\n        page: action.payload.page,\r\n        pages: action.payload.pages,\r\n        countProducts: action.payload.countProducts,\r\n        loading: false,\r\n      };\r\n    case 'FETCH_FAIL':\r\n      return { ...state, loading: false, error: action.payload };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst prices = [\r\n  {\r\n    name: '$1 to $50',\r\n    value: '1-50',\r\n  },\r\n  {\r\n    name: '$51 to $200',\r\n    value: '51-200',\r\n  },\r\n  {\r\n    name: '$201 to $1000',\r\n    value: '201-1000',\r\n  },\r\n];\r\n\r\nexport const ratings = [\r\n  {\r\n    name: '4stars & up',\r\n    rating: 4,\r\n  },\r\n\r\n  {\r\n    name: '3stars & up',\r\n    rating: 3,\r\n  },\r\n\r\n  {\r\n    name: '2stars & up',\r\n    rating: 2,\r\n  },\r\n\r\n  {\r\n    name: '1stars & up',\r\n    rating: 1,\r\n  },\r\n];\r\n\r\nexport default function SearchScreen() {\r\n  //const requestUrl = \"https://www.skftechnologies.com:5000\";\r\n  const requestUrl = process.env.REACT_APP_API_URL;\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const sp = new URLSearchParams(search); // /search?category=Shirts\r\n  const category = sp.get('category') || 'all';\r\n  const query = sp.get('query') || 'all';\r\n  const price = sp.get('price') || 'all';\r\n  const rating = sp.get('rating') || 'all';\r\n  const order = sp.get('order') || 'newest';\r\n  const page = sp.get('page') || 1;\r\n\r\n  const [{ loading, error, products, pages, countProducts }, dispatch] =\r\n    useReducer(reducer, {\r\n      loading: true,\r\n      error: '',\r\n    });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          requestUrl+`/api/products/search?page=${page}&query=${query}&category=${category}&price=${price}&rating=${rating}&order=${order}`\r\n        );\r\n        dispatch({ type: 'FETCH_SUCCESS', payload: data });\r\n      } catch (err) {\r\n        dispatch({\r\n          type: 'FETCH_FAIL',\r\n          payload: getError(error),\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [category, error, order, page, price, query, rating]);\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const { data } = await axios.get(requestUrl+`/api/products/categories`);\r\n        setCategories(data);\r\n      } catch (err) {\r\n        toast.error(getError(err));\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, [dispatch]);\r\n\r\n  const getFilterUrl = (filter) => {\r\n    const params = new URLSearchParams();\r\n  \r\n    if (filter.category || category) params.set(\"category\", filter.category || category);\r\n    if (filter.query || query) params.set(\"query\", filter.query || query);\r\n    if (filter.price || price) params.set(\"price\", filter.price || price);\r\n    if (filter.rating || rating) params.set(\"rating\", filter.rating || rating);\r\n    if (filter.order || order) params.set(\"order\", filter.order || order);\r\n    if (filter.page || page) params.set(\"page\", filter.page || page);\r\n  \r\n    return {\r\n      pathname: \"/search\",\r\n      search: `?${params.toString()}`,\r\n    };\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      \r\n      <Helmet>\r\n        <title>Search Products</title>\r\n      </Helmet>\r\n      <Row>\r\n        <Col>\r\n          <h3>Department</h3>\r\n          <div>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === category ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ category: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {categories.map((c) => (\r\n                <li key={c}>\r\n                  <Link\r\n                    className={c === category ? 'text-bold' : ''}\r\n                    to={getFilterUrl({ category: c })}\r\n                  >\r\n                    {c}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Price</h3>\r\n            <ul>\r\n              <li>\r\n                <Link\r\n                  className={'all' === price ? 'text-bold' : ''}\r\n                  to={getFilterUrl({ price: 'all' })}\r\n                >\r\n                  Any\r\n                </Link>\r\n              </li>\r\n              {prices.map((p) => (\r\n                <li key={p.value}>\r\n                  <Link\r\n                    to={getFilterUrl({ price: p.value })}\r\n                    className={p.value === price ? 'text-bold' : ''}\r\n                  >\r\n                    {p.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h3>Avg. Customer Review</h3>\r\n            <ul>\r\n              {ratings.map((r) => (\r\n                <li key={r.name}>\r\n                  <Link\r\n                    to={getFilterUrl({ rating: r.rating })}\r\n                    className={`${r.rating}` === `${rating}` ? 'text-bold' : ''}\r\n                  >\r\n                    <Rating caption={' & up'} rating={r.rating}></Rating>\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n              <li>\r\n                <Link\r\n                  to={getFilterUrl({ rating: 'all' })}\r\n                  className={rating === 'all' ? 'text-bold' : ''}\r\n                >\r\n                  <Rating caption={' & up'} rating={0}></Rating>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </Col>\r\n        <Col md={9}>\r\n          {loading ? (\r\n            <LoadingBox></LoadingBox>\r\n          ) : error ? (\r\n            <MessageBox variant=\"danger\">{error}</MessageBox>\r\n          ) : (\r\n            <>\r\n              <Row className=\"justify-content-between mb-3\">\r\n                <Col md={6}>\r\n                  <div>\r\n                    {countProducts === 0 ? 'No' : countProducts} Results\r\n                    {query !== 'all' && ' : ' + query}\r\n                    {category !== 'all' && ' : ' + category}\r\n                    {price !== 'all' && ' : Price ' + price}\r\n                    {rating !== 'all' && ' : Rating ' + rating + ' & up'}\r\n                    {query !== 'all' ||\r\n                    category !== 'all' ||\r\n                    rating !== 'all' ||\r\n                    price !== 'all' ? (\r\n                      <Button\r\n                        variant=\"light\"\r\n                        onClick={() => navigate('/search')}\r\n                      >\r\n                        <i className=\"fas fa-times-circle\"></i>\r\n                      </Button>\r\n                    ) : null}\r\n                  </div>\r\n                </Col>\r\n                <Col className=\"text-end\">\r\n                  Sort by{' '}\r\n                  <select\r\n                    value={order}\r\n                    onChange={(e) => {\r\n                      navigate(getFilterUrl({ order: e.target.value }));\r\n                    }}\r\n                  >\r\n                    <option value=\"newest\">Newest Arrivals</option>\r\n                    <option value=\"lowest\">Price: Low to High</option>\r\n                    <option value=\"highest\">Price: High to Low</option>\r\n                    <option value=\"toprated\">Avg. Customer Reviews</option>\r\n                  </select>\r\n                </Col>\r\n              </Row>\r\n              {products.length === 0 && (\r\n                <MessageBox>No Product Found</MessageBox>\r\n              )}\r\n\r\n              <Row>\r\n                {products.map((product) => (\r\n                  <Col sm={6} lg={4} className=\"mb-3\" key={product._id}>\r\n                    <Product product={product}></Product>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n\r\n              <div>\r\n                {[...Array(pages).keys()].map((x) => (\r\n                  <LinkContainer\r\n                    key={x + 1}\r\n                    className=\"mx-1\"\r\n                    to={getFilterUrl({ page: x + 1 })}\r\n                  >\r\n                    <Button\r\n                      className={Number(page) === x + 1 ? 'text-bold' : ''}\r\n                      variant=\"light\"\r\n                    >\r\n                      {x + 1}\r\n                    </Button>\r\n                  </LinkContainer>\r\n                ))}\r\n              </div>\r\n            </>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CACjE,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,QAAQ,KAAQ,UAAU,CACnC,OAASC,MAAM,KAAQ,oBAAoB,CAC3C,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,aAAa,KAAM,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEjE,KAAM,CAAAC,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CACjC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,eAAe,CAClB,MAAO,CAAE,GAAGF,KAAK,CAAEG,OAAO,CAAE,IAAK,CAAC,CACpC,IAAK,eAAe,CAClB,MAAO,CACL,GAAGH,KAAK,CACRI,QAAQ,CAAEH,MAAM,CAACI,OAAO,CAACD,QAAQ,CACjCE,IAAI,CAAEL,MAAM,CAACI,OAAO,CAACC,IAAI,CACzBC,KAAK,CAAEN,MAAM,CAACI,OAAO,CAACE,KAAK,CAC3BC,aAAa,CAAEP,MAAM,CAACI,OAAO,CAACG,aAAa,CAC3CL,OAAO,CAAE,KACX,CAAC,CACH,IAAK,YAAY,CACf,MAAO,CAAE,GAAGH,KAAK,CAAEG,OAAO,CAAE,KAAK,CAAEM,KAAK,CAAER,MAAM,CAACI,OAAQ,CAAC,CAE5D,QACE,MAAO,CAAAL,KAAK,CAChB,CACF,CAAC,CAED,KAAM,CAAAU,MAAM,CAAG,CACb,CACEC,IAAI,CAAE,WAAW,CACjBC,KAAK,CAAE,MACT,CAAC,CACD,CACED,IAAI,CAAE,aAAa,CACnBC,KAAK,CAAE,QACT,CAAC,CACD,CACED,IAAI,CAAE,eAAe,CACrBC,KAAK,CAAE,UACT,CAAC,CACF,CAED,MAAO,MAAM,CAAAC,OAAO,CAAG,CACrB,CACEF,IAAI,CAAE,aAAa,CACnBG,MAAM,CAAE,CACV,CAAC,CAED,CACEH,IAAI,CAAE,aAAa,CACnBG,MAAM,CAAE,CACV,CAAC,CAED,CACEH,IAAI,CAAE,aAAa,CACnBG,MAAM,CAAE,CACV,CAAC,CAED,CACEH,IAAI,CAAE,aAAa,CACnBG,MAAM,CAAE,CACV,CAAC,CACF,CAED,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC;AACA,KAAM,CAAAC,UAAU,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAChD,KAAM,CAAAC,QAAQ,CAAGzC,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE0C,MAAO,CAAC,CAAGzC,WAAW,CAAC,CAAC,CAChC,KAAM,CAAA0C,EAAE,CAAG,GAAI,CAAAC,eAAe,CAACF,MAAM,CAAC,CAAE;AACxC,KAAM,CAAAG,QAAQ,CAAGF,EAAE,CAACG,GAAG,CAAC,UAAU,CAAC,EAAI,KAAK,CAC5C,KAAM,CAAAC,KAAK,CAAGJ,EAAE,CAACG,GAAG,CAAC,OAAO,CAAC,EAAI,KAAK,CACtC,KAAM,CAAAE,KAAK,CAAGL,EAAE,CAACG,GAAG,CAAC,OAAO,CAAC,EAAI,KAAK,CACtC,KAAM,CAAAX,MAAM,CAAGQ,EAAE,CAACG,GAAG,CAAC,QAAQ,CAAC,EAAI,KAAK,CACxC,KAAM,CAAAG,KAAK,CAAGN,EAAE,CAACG,GAAG,CAAC,OAAO,CAAC,EAAI,QAAQ,CACzC,KAAM,CAAAnB,IAAI,CAAGgB,EAAE,CAACG,GAAG,CAAC,MAAM,CAAC,EAAI,CAAC,CAEhC,KAAM,CAAC,CAAEtB,OAAO,CAAEM,KAAK,CAAEL,QAAQ,CAAEG,KAAK,CAAEC,aAAc,CAAC,CAAEqB,QAAQ,CAAC,CAClErD,UAAU,CAACuB,OAAO,CAAE,CAClBI,OAAO,CAAE,IAAI,CACbM,KAAK,CAAE,EACT,CAAC,CAAC,CAEJlC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAuD,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAEC,IAAK,CAAC,CAAG,KAAM,CAAAlD,KAAK,CAAC4C,GAAG,CAC9BT,UAAU,CAAC,6BAA6BV,IAAI,UAAUoB,KAAK,aAAaF,QAAQ,UAAUG,KAAK,WAAWb,MAAM,UAAUc,KAAK,EACjI,CAAC,CACDC,QAAQ,CAAC,CAAE3B,IAAI,CAAE,eAAe,CAAEG,OAAO,CAAE0B,IAAK,CAAC,CAAC,CACpD,CAAE,MAAOC,GAAG,CAAE,CACZH,QAAQ,CAAC,CACP3B,IAAI,CAAE,YAAY,CAClBG,OAAO,CAAEtB,QAAQ,CAAC0B,KAAK,CACzB,CAAC,CAAC,CACJ,CACF,CAAC,CACDqB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACN,QAAQ,CAAEf,KAAK,CAAEmB,KAAK,CAAEtB,IAAI,CAAEqB,KAAK,CAAED,KAAK,CAAEZ,MAAM,CAAC,CAAC,CAExD,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGzD,QAAQ,CAAC,EAAE,CAAC,CAChDF,SAAS,CAAC,IAAM,CACd,KAAM,CAAA4D,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACF,KAAM,CAAEJ,IAAK,CAAC,CAAG,KAAM,CAAAlD,KAAK,CAAC4C,GAAG,CAACT,UAAU,CAAC,0BAA0B,CAAC,CACvEkB,aAAa,CAACH,IAAI,CAAC,CACrB,CAAE,MAAOC,GAAG,CAAE,CACZlD,KAAK,CAAC2B,KAAK,CAAC1B,QAAQ,CAACiD,GAAG,CAAC,CAAC,CAC5B,CACF,CAAC,CACDG,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACN,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAO,YAAY,CAAIC,MAAM,EAAK,CAC/B,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAf,eAAe,CAAC,CAAC,CAEpC,GAAIc,MAAM,CAACb,QAAQ,EAAIA,QAAQ,CAAEc,MAAM,CAACC,GAAG,CAAC,UAAU,CAAEF,MAAM,CAACb,QAAQ,EAAIA,QAAQ,CAAC,CACpF,GAAIa,MAAM,CAACX,KAAK,EAAIA,KAAK,CAAEY,MAAM,CAACC,GAAG,CAAC,OAAO,CAAEF,MAAM,CAACX,KAAK,EAAIA,KAAK,CAAC,CACrE,GAAIW,MAAM,CAACV,KAAK,EAAIA,KAAK,CAAEW,MAAM,CAACC,GAAG,CAAC,OAAO,CAAEF,MAAM,CAACV,KAAK,EAAIA,KAAK,CAAC,CACrE,GAAIU,MAAM,CAACvB,MAAM,EAAIA,MAAM,CAAEwB,MAAM,CAACC,GAAG,CAAC,QAAQ,CAAEF,MAAM,CAACvB,MAAM,EAAIA,MAAM,CAAC,CAC1E,GAAIuB,MAAM,CAACT,KAAK,EAAIA,KAAK,CAAEU,MAAM,CAACC,GAAG,CAAC,OAAO,CAAEF,MAAM,CAACT,KAAK,EAAIA,KAAK,CAAC,CACrE,GAAIS,MAAM,CAAC/B,IAAI,EAAIA,IAAI,CAAEgC,MAAM,CAACC,GAAG,CAAC,MAAM,CAAEF,MAAM,CAAC/B,IAAI,EAAIA,IAAI,CAAC,CAEhE,MAAO,CACLkC,QAAQ,CAAE,SAAS,CACnBnB,MAAM,CAAE,IAAIiB,MAAM,CAACG,QAAQ,CAAC,CAAC,EAC/B,CAAC,CACH,CAAC,CAED,mBACE7C,KAAA,QAAA8C,QAAA,eAEEhD,IAAA,CAACV,MAAM,EAAA0D,QAAA,cACLhD,IAAA,UAAAgD,QAAA,CAAO,iBAAe,CAAO,CAAC,CACxB,CAAC,cACT9C,KAAA,CAACX,GAAG,EAAAyD,QAAA,eACF9C,KAAA,CAACV,GAAG,EAAAwD,QAAA,eACFhD,IAAA,OAAAgD,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBhD,IAAA,QAAAgD,QAAA,cACE9C,KAAA,OAAA8C,QAAA,eACEhD,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHiE,SAAS,CAAE,KAAK,GAAKnB,QAAQ,CAAG,WAAW,CAAG,EAAG,CACjDoB,EAAE,CAAER,YAAY,CAAC,CAAEZ,QAAQ,CAAE,KAAM,CAAC,CAAE,CAAAkB,QAAA,CACvC,KAED,CAAM,CAAC,CACL,CAAC,CACJT,UAAU,CAACY,GAAG,CAAEC,CAAC,eAChBpD,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHiE,SAAS,CAAEG,CAAC,GAAKtB,QAAQ,CAAG,WAAW,CAAG,EAAG,CAC7CoB,EAAE,CAAER,YAAY,CAAC,CAAEZ,QAAQ,CAAEsB,CAAE,CAAC,CAAE,CAAAJ,QAAA,CAEjCI,CAAC,CACE,CAAC,EANAA,CAOL,CACL,CAAC,EACA,CAAC,CACF,CAAC,cACNlD,KAAA,QAAA8C,QAAA,eACEhD,IAAA,OAAAgD,QAAA,CAAI,OAAK,CAAI,CAAC,cACd9C,KAAA,OAAA8C,QAAA,eACEhD,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHiE,SAAS,CAAE,KAAK,GAAKhB,KAAK,CAAG,WAAW,CAAG,EAAG,CAC9CiB,EAAE,CAAER,YAAY,CAAC,CAAET,KAAK,CAAE,KAAM,CAAC,CAAE,CAAAe,QAAA,CACpC,KAED,CAAM,CAAC,CACL,CAAC,CACJhC,MAAM,CAACmC,GAAG,CAAEE,CAAC,eACZrD,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHkE,EAAE,CAAER,YAAY,CAAC,CAAET,KAAK,CAAEoB,CAAC,CAACnC,KAAM,CAAC,CAAE,CACrC+B,SAAS,CAAEI,CAAC,CAACnC,KAAK,GAAKe,KAAK,CAAG,WAAW,CAAG,EAAG,CAAAe,QAAA,CAE/CK,CAAC,CAACpC,IAAI,CACH,CAAC,EANAoC,CAAC,CAACnC,KAOP,CACL,CAAC,EACA,CAAC,EACF,CAAC,cACNhB,KAAA,QAAA8C,QAAA,eACEhD,IAAA,OAAAgD,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7B9C,KAAA,OAAA8C,QAAA,EACG7B,OAAO,CAACgC,GAAG,CAAEG,CAAC,eACbtD,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHkE,EAAE,CAAER,YAAY,CAAC,CAAEtB,MAAM,CAAEkC,CAAC,CAAClC,MAAO,CAAC,CAAE,CACvC6B,SAAS,CAAE,GAAGK,CAAC,CAAClC,MAAM,EAAE,GAAK,GAAGA,MAAM,EAAE,CAAG,WAAW,CAAG,EAAG,CAAA4B,QAAA,cAE5DhD,IAAA,CAACP,MAAM,EAAC8D,OAAO,CAAE,OAAQ,CAACnC,MAAM,CAAEkC,CAAC,CAAClC,MAAO,CAAS,CAAC,CACjD,CAAC,EANAkC,CAAC,CAACrC,IAOP,CACL,CAAC,cACFjB,IAAA,OAAAgD,QAAA,cACEhD,IAAA,CAAChB,IAAI,EACHkE,EAAE,CAAER,YAAY,CAAC,CAAEtB,MAAM,CAAE,KAAM,CAAC,CAAE,CACpC6B,SAAS,CAAE7B,MAAM,GAAK,KAAK,CAAG,WAAW,CAAG,EAAG,CAAA4B,QAAA,cAE/ChD,IAAA,CAACP,MAAM,EAAC8D,OAAO,CAAE,OAAQ,CAACnC,MAAM,CAAE,CAAE,CAAS,CAAC,CAC1C,CAAC,CACL,CAAC,EACH,CAAC,EACF,CAAC,EACH,CAAC,cACNpB,IAAA,CAACR,GAAG,EAACgE,EAAE,CAAE,CAAE,CAAAR,QAAA,CACRvC,OAAO,cACNT,IAAA,CAACN,UAAU,GAAa,CAAC,CACvBqB,KAAK,cACPf,IAAA,CAACL,UAAU,EAAC8D,OAAO,CAAC,QAAQ,CAAAT,QAAA,CAAEjC,KAAK,CAAa,CAAC,cAEjDb,KAAA,CAAAE,SAAA,EAAA4C,QAAA,eACE9C,KAAA,CAACX,GAAG,EAAC0D,SAAS,CAAC,8BAA8B,CAAAD,QAAA,eAC3ChD,IAAA,CAACR,GAAG,EAACgE,EAAE,CAAE,CAAE,CAAAR,QAAA,cACT9C,KAAA,QAAA8C,QAAA,EACGlC,aAAa,GAAK,CAAC,CAAG,IAAI,CAAGA,aAAa,CAAC,UAC5C,CAACkB,KAAK,GAAK,KAAK,EAAI,KAAK,CAAGA,KAAK,CAChCF,QAAQ,GAAK,KAAK,EAAI,KAAK,CAAGA,QAAQ,CACtCG,KAAK,GAAK,KAAK,EAAI,WAAW,CAAGA,KAAK,CACtCb,MAAM,GAAK,KAAK,EAAI,YAAY,CAAGA,MAAM,CAAG,OAAO,CACnDY,KAAK,GAAK,KAAK,EAChBF,QAAQ,GAAK,KAAK,EAClBV,MAAM,GAAK,KAAK,EAChBa,KAAK,GAAK,KAAK,cACbjC,IAAA,CAACJ,MAAM,EACL6D,OAAO,CAAC,OAAO,CACfC,OAAO,CAAEA,CAAA,GAAMhC,QAAQ,CAAC,SAAS,CAAE,CAAAsB,QAAA,cAEnChD,IAAA,MAAGiD,SAAS,CAAC,qBAAqB,CAAI,CAAC,CACjC,CAAC,CACP,IAAI,EACL,CAAC,CACH,CAAC,cACN/C,KAAA,CAACV,GAAG,EAACyD,SAAS,CAAC,UAAU,CAAAD,QAAA,EAAC,SACjB,CAAC,GAAG,cACX9C,KAAA,WACEgB,KAAK,CAAEgB,KAAM,CACbyB,QAAQ,CAAGC,CAAC,EAAK,CACflC,QAAQ,CAACgB,YAAY,CAAC,CAAER,KAAK,CAAE0B,CAAC,CAACC,MAAM,CAAC3C,KAAM,CAAC,CAAC,CAAC,CACnD,CAAE,CAAA8B,QAAA,eAEFhD,IAAA,WAAQkB,KAAK,CAAC,QAAQ,CAAA8B,QAAA,CAAC,iBAAe,CAAQ,CAAC,cAC/ChD,IAAA,WAAQkB,KAAK,CAAC,QAAQ,CAAA8B,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cAClDhD,IAAA,WAAQkB,KAAK,CAAC,SAAS,CAAA8B,QAAA,CAAC,oBAAkB,CAAQ,CAAC,cACnDhD,IAAA,WAAQkB,KAAK,CAAC,UAAU,CAAA8B,QAAA,CAAC,uBAAqB,CAAQ,CAAC,EACjD,CAAC,EACN,CAAC,EACH,CAAC,CACLtC,QAAQ,CAACoD,MAAM,GAAK,CAAC,eACpB9D,IAAA,CAACL,UAAU,EAAAqD,QAAA,CAAC,kBAAgB,CAAY,CACzC,cAEDhD,IAAA,CAACT,GAAG,EAAAyD,QAAA,CACDtC,QAAQ,CAACyC,GAAG,CAAEY,OAAO,eACpB/D,IAAA,CAACR,GAAG,EAACwE,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAChB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjChD,IAAA,CAACH,OAAO,EAACkE,OAAO,CAAEA,OAAQ,CAAU,CAAC,EADEA,OAAO,CAACG,GAE5C,CACN,CAAC,CACC,CAAC,cAENlE,IAAA,QAAAgD,QAAA,CACG,CAAC,GAAGmB,KAAK,CAACtD,KAAK,CAAC,CAACuD,IAAI,CAAC,CAAC,CAAC,CAACjB,GAAG,CAAEkB,CAAC,eAC9BrE,IAAA,CAACF,aAAa,EAEZmD,SAAS,CAAC,MAAM,CAChBC,EAAE,CAAER,YAAY,CAAC,CAAE9B,IAAI,CAAEyD,CAAC,CAAG,CAAE,CAAC,CAAE,CAAArB,QAAA,cAElChD,IAAA,CAACJ,MAAM,EACLqD,SAAS,CAAEqB,MAAM,CAAC1D,IAAI,CAAC,GAAKyD,CAAC,CAAG,CAAC,CAAG,WAAW,CAAG,EAAG,CACrDZ,OAAO,CAAC,OAAO,CAAAT,QAAA,CAEdqB,CAAC,CAAG,CAAC,CACA,CAAC,EATJA,CAAC,CAAG,CAUI,CAChB,CAAC,CACC,CAAC,EACN,CACH,CACE,CAAC,EACH,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
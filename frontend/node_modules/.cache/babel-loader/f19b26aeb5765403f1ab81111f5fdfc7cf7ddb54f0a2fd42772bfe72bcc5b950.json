{"ast":null,"code":"import React from'react';import{useState,useEffect,useReducer}from'react';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Product from'../components/Product';import axios from'axios';import logger from'use-reducer-logger';import{Helmet}from'react-helmet-async';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';//import dotenv from 'dotenv';\n//import Carousel from 'react-bootstrap/Carousel';\n//import Container from 'react-bootstrap/Container';\nimport Slide from'../slide.js';//dotenv.config();\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const reducer=(state,action)=>{switch(action.type){case'FETCH_REQUEST':return{...state,loading:true};case'FETCH_SUCCESS':return{...state,products:action.payload,loading:false};case'FETCH_FAIL':return{...state,loading:false,error:action.payload};default:return state;}};function getWindowDimensions(){const{innerWidth:width,innerHeight:height}=window;return{width,height};}function useWindowDimensions(){const[windowDimensions,setWindowDimensions]=useState(getWindowDimensions());useEffect(()=>{function handleResize(){setWindowDimensions(getWindowDimensions());}window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);return windowDimensions;}function HomeScreen(){//const requestUrl = 'https://www.skftechnologies.com:5000';\nconst requestUrl=process.env.REACT_APP_API_URL;const[{loading,error,products},dispatch]=useReducer(logger(reducer),{products:[],loading:true,error:''});const{height,width}=useWindowDimensions();useEffect(()=>{const fetchData=async()=>{dispatch({type:'FETCH_REQUEST'});try{const result=await axios.get(requestUrl+'/api/products');dispatch({type:'FETCH_SUCCESS',payload:result.data});}catch(err){dispatch({type:'FETCH_FAIL',payload:err.message});}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"S K F Osmoseur\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl pb-4 font-bold text-blue-400\",children:\"Featured Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{children:products.map(product=>/*#__PURE__*/_jsx(Col,{xs:6,sm:6,md:3,lg:3,className:\"mb-3\",children:/*#__PURE__*/_jsx(Product,{product:product})},product.slug))})})]});}export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","useReducer","Row","Col","Product","axios","logger","Helmet","LoadingBox","MessageBox","Slide","jsx","_jsx","jsxs","_jsxs","reducer","state","action","type","loading","products","payload","error","getWindowDimensions","innerWidth","width","innerHeight","height","window","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","addEventListener","removeEventListener","HomeScreen","requestUrl","process","env","REACT_APP_API_URL","dispatch","fetchData","result","get","data","err","message","children","className","variant","map","product","xs","sm","md","lg","slug"],"sources":["C:/Users/User/Amazona/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React from 'react';\r\nimport {useState, useEffect, useReducer} from 'react';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Product from '../components/Product';\r\nimport axios from 'axios';\r\nimport logger from 'use-reducer-logger';\r\nimport {Helmet} from 'react-helmet-async';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n//import dotenv from 'dotenv';\r\n//import Carousel from 'react-bootstrap/Carousel';\r\n//import Container from 'react-bootstrap/Container';\r\nimport Slide from '../slide.js';\r\n\r\n//dotenv.config();\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_REQUEST':\r\n      return {...state, loading: true};\r\n    case 'FETCH_SUCCESS':\r\n      return {...state, products: action.payload, loading: false};\r\n    case 'FETCH_FAIL':\r\n      return {...state, loading: false, error: action.payload};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nfunction getWindowDimensions () {\r\n  const {innerWidth: width, innerHeight: height} = window;\r\n  return {\r\n    width,\r\n    height,\r\n  };\r\n}\r\n\r\nfunction useWindowDimensions () {\r\n  const [windowDimensions, setWindowDimensions] = useState (\r\n    getWindowDimensions ()\r\n  );\r\n\r\n  useEffect (() => {\r\n    function handleResize () {\r\n      setWindowDimensions (getWindowDimensions ());\r\n    }\r\n\r\n    window.addEventListener ('resize', handleResize);\r\n    return () => window.removeEventListener ('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n\r\nfunction HomeScreen () {\r\n  //const requestUrl = 'https://www.skftechnologies.com:5000';\r\n  const requestUrl = process.env.REACT_APP_API_URL;\r\n  const [{loading, error, products}, dispatch] = useReducer (logger (reducer), {\r\n    products: [],\r\n    loading: true,\r\n    error: '',\r\n  });\r\n\r\n  const {height, width} = useWindowDimensions ();\r\n\r\n  useEffect (() => {\r\n    const fetchData = async () => {\r\n      dispatch ({type: 'FETCH_REQUEST'});\r\n      try {\r\n        const result = await axios.get (requestUrl + '/api/products');\r\n        dispatch ({type: 'FETCH_SUCCESS', payload: result.data});\r\n      } catch (err) {\r\n        dispatch ({type: 'FETCH_FAIL', payload: err.message});\r\n      }\r\n    };\r\n    fetchData ();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>S K F Osmoseur</title>\r\n      </Helmet>\r\n      {/*<Slide />*/}\r\n\r\n      <h1 className=\"text-5xl pb-4 font-bold text-blue-400\">Featured Products</h1>\r\n\r\n      <div className=\"products\">\r\n        {loading\r\n          ? <LoadingBox />\r\n          : error\r\n              ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n              : <Row>\r\n                  {products.map (product => (\r\n                    <Col\r\n                      key={product.slug}\r\n                      xs={6}\r\n                      sm={6}\r\n                      md={3}\r\n                      lg={3}\r\n                      className=\"mb-3\"\r\n                    >\r\n                      <Product product={product} />\r\n                    </Col>\r\n                  ))}\r\n                </Row>}\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\nexport default HomeScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}